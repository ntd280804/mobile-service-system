@using WebApp.Models
@model SecurityDemoViewModel
@{
    ViewData["Title"] = "Security Demo";
}
<div class="container py-4">
    <h2>Hybrid RSA + AES Demo</h2>

    <form asp-action="Index" method="post">
        <div class="mb-3">
            <label class="form-label">Message</label>
            <input asp-for="Message" class="form-control" placeholder="Nhập thông điệp..." />
        </div>
        <div class="d-flex gap-2">
            <button type="submit" name="submit" value="echo" class="btn btn-primary">Client → Server (Echo)</button>
            <button type="submit" name="submit" value="encrypt-for-client" class="btn btn-secondary">Server → Client (Encrypt for client)</button>
        </div>
        @Html.AntiForgeryToken()
    </form>

    @if (!string.IsNullOrEmpty(Model?.EchoFromServer))
    {
        <div class="alert alert-success mt-3">
            <strong>Echo:</strong> @Model.EchoFromServer
        </div>
    }
    @if (!string.IsNullOrEmpty(Model?.EncryptedFromServer))
    {
        <div class="alert alert-info mt-3">
            <strong>From server (decrypted on client):</strong> @Model.EncryptedFromServer
        </div>
    }
    @if (!string.IsNullOrEmpty(Model?.Error))
    {
        <div class="alert alert-danger mt-3">@Model.Error</div>
    }

    <p class="mt-3">Endpoints used: <code>api/public/security/*</code> — ClientId: <code>demo-client</code></p>
</div>


